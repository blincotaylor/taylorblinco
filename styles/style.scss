@import "./resets";
@import "./variables";
@import url("https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700;900&family=Montserrat:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700;800&family=Roboto+Mono:wght@300;400;500&display=swap");

// Functions & Mixins

@function weight($weight-name) {
  @return map-get($font-weights, $weight-name);
}

@function color($color-name) {
  @return map-get($colors, $color-name);
}

@mixin flex($direction, $gap) {
  display: flex;
  gap: $gap;
  flex-direction: $direction;
}

// ----------
// Main Styles
// ----------

// Utility
.bg-dark-1 {
  background-color: color(dark-1);
}

.fw-extra-light {
  font-weight: weight(extra-light);
}

.fw-light {
  font-weight: weight(light);
}

.fw-medium {
  font-weight: weight(regular);
}

.fw-medium-bold {
  font-weight: weight(medium-bold);
}

.fw-bold {
  font-weight: weight(bold);
}

.fw-extra-bold {
  font-weight: weight(extra-bold);
}

.fw-stark {
  font-weight: weight(stark);
}

.align-left {
  text-align: left;
}

.align-center {
  text-align: center;
}

.align-right {
  text-align: right;
}

.full-center {
  display: grid;
  place-items: center;
}

// Main

body {
  overflow-x: hidden;
  min-height: 100%;
}

.navigation {
  @include flex(row, 1.5rem);
  position: fixed;
  width: 100vw;
  counter-reset: link -1;
  justify-content: flex-end;

  padding: 1rem 2rem 1rem 1rem;
  margin: 0;
  background-color: color(mid-2);
  list-style: none;

  &-toggle {
    display: none;
  }

  &__li {
    counter-increment: link;
  }

  &__link {
    position: relative;

    text-decoration: none;
    color: color(dark-2);
    font-weight: map-get($font-weights, bold);
    font-family: $font-mono, monospace;
    font-size: 1.25rem;

    transition: color 0.4s ease-in-out;

    &:hover {
      color: color(light-2);
      transition: color 0.4s ease-in-out;
    }

    &::before {
      position: absolute;
      top: -0.8rem;
      left: -0.25rem;
      content: "0" counter(link);

      font-size: 0.75rem;
    }
  }
}

@supports (backdrop-filter: blur()) {
  .navigation {
    background-color: hsl(0deg 0% 60% / 0.1);
    backdrop-filter: blur(1.75rem);

    &__link {
      color: color(light-2);
      font-weight: map-get($font-weights, extra-light);
    }
  }
}

.hoverstate {
  color: color(mid-1);

  transition: color 0.4s ease-in-out;
}

.hero {
  min-height: 100vh;
  padding: 10rem 0 0 2rem;
  width: 70%;
  margin: 0 auto;
  font-size: 1.25rem;
  // @include flex(column, 1rem);

  .scroll-down {
    @include flex(row, 1rem);
    flex-wrap: wrap;
    align-self: flex-end;
  }
}

.introduction {
  border-width: 1px 0 1px 1px;
  border-style: solid;
  border-color: color(mid-2);
  padding: 2rem;
  width: 15vw;
  white-space: nowrap;

  p {
    color: color(light-2);
    white-space: normal;
    width: 60vw;

    font-family: $font-sans-1;
  }

  .main-title {
    font-family: $font-serif;
    color: color(light-1);
    margin-bottom: 1rem;
    font-size: 2.5rem;
  }
}

@media (max-width: 500px) {
  .hero {
    width: 95%;
    min-height: 100%;
    margin: 40% 0 0 5%;
    font-size: 1rem;
    padding: 0 !important;
  }

  .introduction {
    .main-title {
      font-size: 1rem;
    }
  }

  .navigation {
    @include flex(column, 2.5rem);
    justify-content: initial;
    position: fixed;
    z-index: 1000;
    inset: 0 0 0 20%;
    margin: 0;
    padding: min(20vh, 7.5rem) 1.5rem;
    height: 100vh;

    transform: translateX(100%);
    transition: transform 0.35s cubic-bezier(0.5, 0, 0.5, 1);

    &[data-visible="true"] {
      transform: translateX(0%);
    }

    &-toggle {
      display: block;
      background-color: transparent;
      position: absolute;
      top: 2rem;
      right: 2rem;
      cursor: pointer;
      z-index: 9999;

      width: 1.5rem;
      border: 0;
      aspect-ratio: 1;

      &[aria-expanded="true"] {
        & .navigation-toggle__bar {
          opacity: 0;
        }

        & .bar-top {
          transform: translate(-50%, -50%) rotate(-315deg);
          top: 50%;
        }

        & .bar-bottom {
          transform: translate(-50%, -50%) rotate(-225deg);
          top: 50%;
        }
      }
      &__bar,
      & .bar-top,
      & .bar-bottom {
        width: 1.75rem;
        height: 3px;
        background-color: color(light-2);
        border-radius: 5px;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        transition: transform 0.4s, opacity 0.2s, top 0.4s;
      }

      & .bar-top {
        top: 15%;
      }

      & .bar-bottom {
        top: 85%;
      }

      .introduction {
        p {
          width: unset;
        }
      }
    }
  }
}
